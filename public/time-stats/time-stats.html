<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Rupesh Shah">
  <meta name="google-site-verification" content="asegsNffwXTljUqyu173MU6zcZ0-uSf9heJOXc3K7Jc" />
  <meta name="description" content="A advanced dashboard to display url resolution timing stats">
  <title>Time Stats</title>
  <link rel="stylesheet" href="../analytics/stats.css">
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/5220/5220478.png">
  <link rel="stylesheet" href="../components/page-loader/loader.css">
  <!-- <link rel="stylesheet" href="timing-stat.css"> -->
  <script>
    fetch('/api/auth/me').then(r=>r.json()).then(d=>{ if(!d.user){ location.href='/login'; }});
  </script>
</head>
<body>
  <div id="navbar-root"></div>
  <div class="floating-navbar">
    <div class="button-container">
      <a href="/" class="button" title="Home">
        <svg class="icon" viewBox="0 0 1024 1024" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204z"/>
        </svg>
        <span class="label">Home</span>
      </a>
      <a href="../resolution-stats/resolutions.html" class="button" title="Resolution Stats">
        <svg class="icon" viewBox="0 0 1024 1024" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M574.6 266.7c-22.2 0-40.2 18-40.2 40.2s18 40.2 40.2 40.2h163.6c38.6 0 70.1 31.5 70.1 70.1s-31.5 70.1-70.1 70.1H555.4c-61.3 0-111.1 49.8-111.1 111.1s49.8 111.1 111.1 111.1h163.6c22.2 0 40.2-18 40.2-40.2s-18-40.2-40.2-40.2H574.6c-18.3 0-33.1-14.8-33.1-33.1s14.8-33.1 33.1-33.1h182.8c76.5 0 138.7-62.2 138.7-138.7s-62.2-138.7-138.7-138.7H574.6zM449.4 757.3c22.2 0 40.2-18 40.2-40.2s-18-40.2-40.2-40.2H285.8c-38.6 0-70.1-31.5-70.1-70.1s31.5-70.1 70.1-70.1h182.8c61.3 0 111.1-49.8 111.1-111.1S530 314.6 468.7 314.6H305.1c-22.2 0-40.2 18-40.2 40.2s18 40.2 40.2 40.2h163.6c18.3 0 33.1 14.8 33.1 33.1s-14.8 33.1-33.1 33.1H285.8c-76.5 0-138.7 62.2-138.7 138.7s62.2 138.7 138.7 138.7h163.6z"/>
        </svg>
        <span class="label">Resolution Stats</span>
      </a>
      <a href="../analytics/stats.html" class="button" title="Analytics">
        <svg class="icon" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M4 22h16v-2H4v2zm2-4h2v-7H6v7zm5 0h2V6h-2v12zm5 0h2v-4h-2v4z"/>
        </svg>
        <span class="label">Analytics</span>
      </a>
      <a href="/dashboard.html" class="button" title="Activity Dashboard">
        <svg class="icon" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/>
        </svg>
        <span class="label">Activity</span>
      </a>
    </div>
  </div>

  <div class="container">
    <div class="header">
      <h1>⏱️ URL Timing Statistics</h1>
      <p class="subtitle">Track and analyze the time taken to resolve URLs</p>
    </div>
    <div class="dashboard-card">
      <div class="stats-cards">
        <div class="stat-card3">
          <div class="stat-value" id="avg-time-value">--</div>
          <div class="stat-label">Average Time per URL (Today)</div>
        </div>
        <div class="stat-card5">
          <div class="stat-value" id="sum-time-value">--</div>
          <div class="stat-label">Total Time (All URLs)</div>
        </div>
      </div>
      <div class="controls-section">
        <div class="controls-grid">
          <div class="form-group">
            <label for="start-date">From Date</label>
            <input type="date" id="start-date" class="form-control">
          </div>
          <div class="form-group">
            <label for="end-date">To Date</label>
            <input type="date" id="end-date" class="form-control">
          </div>
          <div class="form-group">
            <label for="sort-order">Sort</label>
            <select id="sort-order" class="form-control">
              <option value="latest">Latest</option>
              <option value="oldest">Oldest</option>
            </select>
          </div>
        </div>
        <div class="button-group">
          <button id="filter-btn" class="btn btn-primary">Filter</button>
          <button id="clear-filter-btn" class="btn btn-secondary">Clear</button>
          <button id="export-csv-btn" class="btn btn-export">Export as CSV</button>
          <!-- <span id="auto-refresh-info" style="margin-left:16px; color:#888;">Auto-refreshes every 10 seconds</span> -->
        </div>
      </div>
      <div class="table-section">
        <div class="table-header-time">
          <h2>Timing Stats Details</h2>
        </div>
        <div class="table-scroll">
          <table class="data-table" id="timing-table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Total Time (s)</th>
                <th>Avg Time per URL (s)</th>
                <th>Count</th>
              </tr>
            </thead>
            <tbody>
              <!-- Data rows will be injected here -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <!-- Network Status Toast -->
  <div id="network-toast" class="network-toast hidden"></div>
  <script src="../components/page-loader/loader.js"></script>
  <script src="../components/navbar/navbar.js"></script>
  <script src="/time-stats/time-stat.js"></script>
</body>
</html> 